package twolovers.exploitfixer.bungee.modules;

import net.md_5.bungee.config.Configuration;
import twolovers.exploitfixer.interfaces.modules.CommandsModule;
import twolovers.exploitfixer.shared.instanceables.Punishment;

import java.util.Collection;

public class BungeeCommandsModule implements CommandsModule {
	private Collection<String> commands;
	private boolean enabled;
	private Punishment punishment;

	public BungeeCommandsModule(final Object configYml) {
		reload(configYml);
	}

	@Override
	final public Boolean isEnabled() {
		return enabled;
	}

	@Override
	public String getName() {
		return "Commands";
	}

	@Override
	public Punishment getPunishment() {
		return punishment;
	}

	@Override
	final public Collection<String> getCommands() {
		return commands;
	}

	@Override
	public void reload(Object configYml) {
		final Configuration configYml1 = (Configuration) configYml;

		enabled = configYml1.getBoolean("commands.enabled");
		commands = configYml1.getStringList("commands.commands");
		this.punishment = new Punishment(configYml1.getBoolean("commands.punishment.enabled"), configYml1.getBoolean("commands.punishment.kick"), configYml1.getInt("commands.punishment.threshold"), configYml1.getStringList("commands.punishment.commands"));
	}
}
